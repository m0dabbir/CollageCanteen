<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= canteenSlug %> Canteen Menu</title>
    <link rel="stylesheet" href="/css/home.css" />
    <link rel="stylesheet" href="/css/menu.css" />
    <style>
      .menu-container {
        padding: 20px;
        max-width: 960px; /* Adjust as needed */
        margin: 0 auto;
      }

      .menu-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        list-style: none;
        padding: 0;
      }

      .food-card {
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 15px;
        text-align: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .food-card img {
        max-width: 100%;
        height: auto;
        border-radius: 4px;
        margin-bottom: 10px;
      }

      .food-name {
        font-weight: bold;
        margin-bottom: 5px;
      }

      .food-price {
        color: #555;
        margin-bottom: 10px;
      }

      .add-button {
        background-color: #4caf50;
        color: white;
        border: none;
        padding: 8px 15px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 14px;
        border-radius: 4px;
        cursor: pointer;
      }

      .add-button:hover {
        background-color: #45a049;
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <img src="images/LOGOjmi.png" alt="JMI Logo" />
      <div class="nav-links">
        <a href="/">Home</a>
        <a href="/about">About</a>
        <a href="https://www.jmi.ac.in/" target="_blank">University</a>
        <a href="/developers">Developers</a>
      </div>
      <img src="images/LOGOfood.png" alt="Food Logo" />
    </nav>

    <main class="main-content">
      <div class="menu-container">
        <h1><%= canteenSlug %> Canteen Menu</h1>

        <% if (menu && menu.length > 0) { %>
        <ul class="menu-grid">
          <% menu.forEach(item => { %>
          <li class="food-card">
            <img
              src="<%= item.image || '/images/food-placeholder.png' %>"
              alt="<%= item.name %>"
            />
            <div class="food-name"><%= item.name %></div>
            <div class="food-price">â‚¹<%= item.price %></div>
            <button
              class="add-button"
              onclick="addToCart('<%= canteenSlug %>', '<%= item.id %>', '<%= item.name %>', <%= item.price %>)"
            >
              Add
            </button>
          </li>
          <% }); %>
        </ul>
        <% } else { %>
        <p>Menu for <%= canteenSlug %> is currently unavailable.</p>
        <% } %>
      </div>
    </main>

    <footer class="footer">
      <div class="footer-content">
        <div id="clock"></div>
        <div id="count"></div>
      </div>
    </footer>

    <script src="/scripts/counter.js"></script>
    <script>
      function addToCart(canteenSlug, itemId, itemName, itemPrice) {
        console.log(`Added "${itemName}" from ${canteenSlug} to cart.`);
        // In a real application, you would implement the add to cart logic here
        // (e.g., using local storage, sending an AJAX request to the server).
      }
    </script>
  </body>
</html>
